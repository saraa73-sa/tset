<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ุจุทุงูุฉ ุงูุชุณููุน</title>
</head>
<body>
<form id="tasmeeForm">
<h2>ุจุทุงูุฉ ุงูุชุณููุน</h2>

<input id="name" placeholder="ุงูุงุณู"><br><br>
<input id="lesson" placeholder="ุงูุฏุฑุณ"><br><br>
<input id="review" placeholder="ุงููุฑุงุฌุนุฉ"><br><br>

<label>ูู ุณูุฑุฉ:</label><br>
<input list="surahs" id="fromSurah"><br><br>

<label>ุฅูู ุณูุฑุฉ:</label><br>
<input list="surahs" id="toSurah"><br><br>

<datalist id="surahs"></datalist>

<label>ุนุฏุฏ ุงูุฃูุฌู:</label><br>
<input id="faces" readonly><br><br>

<button type="submit">ุฅุฑุณุงู</button>

<p id="msg"></p>
</form>
<script>
const SURAH_PAGES = [
  { name: "ุงููุงุชุญุฉ", pages: 1 },
  { name: "ุงูุจูุฑุฉ", pages: 48 },
  { name: "ุขู ุนูุฑุงู", pages: 50 },
  { name: "ุงููุณุงุก", pages: 55 },
  { name: "ุงููุงุฆุฏุฉ", pages: 42 }
];

  const list = document.getElementById("surahs");

SURAH_PAGES.forEach(s => {
  const option = document.createElement("option");
  option.value = s.name;
  list.appendChild(option);
});

  function calculateFaces() {
  const from = document.getElementById("fromSurah").value;
  const to = document.getElementById("toSurah").value;

  const fromSurah = SURAH_PAGES.find(s => s.name === from);
  const toSurah = SURAH_PAGES.find(s => s.name === to);

  if (!fromSurah || !toSurah) return;

  const faces = Math.abs(toSurah.pages - fromSurah.pages) + 1;
  document.getElementById("faces").value = faces;
}

document.getElementById("fromSurah").addEventListener("change", calculateFaces);
document.getElementById("toSurah").addEventListener("change", calculateFaces);


document.getElementById("tasmeeForm").addEventListener("submit", function (e) {
  e.preventDefault(); // ูููุน ุงูุชุญุฏูุซ
  sendTasmee();
});

function sendTasmee() {
  console.log("ุฒุฑ ุงูุฅุฑุณุงู ูุนูู"); // ๐ ุงุฎุชุจุงุฑ

  const data = {
    type: "tasmee",
    name: document.getElementById("name").value,
    lesson: document.getElementById("lesson").value,
    review: document.getElementById("review").value,
    faces: document.getElementById("faces").value
  };

fetch("https://script.google.com/macros/s/AKfycbwC9TL0l8uPi0qPy_CMTxQh7w-Vvi52rWePBP3rABRnAYLUhgzaZUTOHsbl2gnzwANP/exec", {
  method: "POST",
    body: formData
  })

  .then(res => res.json())
  .then(() => {
    document.getElementById("msg").textContent =
      "ุชู ุฅุฑุณุงู ุจุทุงูุฉ ุงูุชุณููุน โ";
  })
  .catch(err => {
    document.getElementById("msg").textContent =
      "ูุดู ุงูุฅุฑุณุงู โ";
    console.error(err);
  });
}
</script>
</body>
</html>
  

